<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/integration"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:beans="http://www.springframework.org/schema/beans"
	xmlns:integration="http://www.springframework.org/schema/integration"
	xmlns:file="http://www.springframework.org/schema/integration/file"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans.xsd
			http://www.springframework.org/schema/integration
			http://www.springframework.org/schema/integration/spring-integration.xsd
			http://www.springframework.org/schema/integration/file
			http://www.springframework.org/schema/integration/file/spring-integration-file.xsd">
			
			
	<annotation-config/>

	
	<integration:file-source directory="s3:/sibucket" poll-period="1000" channel="s3InputChannel"/>
	
	<integration:inbound-channel-adapter channel="s3InputChannel" ref="s3InboundFileAdapter" />

	<channel id="s3InputChannel"/>

	<beans:bean id="s3ReadingMessageSource" class="com.opencredo.integration.sqs.S3ReadingMessageSource"/>
	<beans:bean id="s3InboundFileAdapter" class="com.opencredo.integration.sqs.S3InboundFileAdapter"/>

	<beans:bean id="ftpFileSource" class="org.springframework.integration.ftp.FtpFileSource">
		<beans:property name="clientPool" ref="ftpClientPool" />
		<beans:property name="localWorkingDirectory"
			value="file:${java.io.tmpdir}/FtpConfigIntegrationTests" />
		<beans:property name="taskScheduler" ref="taskScheduler" />
		<beans:property name="trigger">
			<beans:bean class="org.springframework.integration.scheduling.IntervalTrigger">
				<beans:constructor-arg value="1500" />
			</beans:bean>
		</beans:property>
	</beans:bean>

</beans:beans>

